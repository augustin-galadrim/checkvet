components: []
container:
  properties:
    html: |-
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="utf-8">
          <style>
            .modal-header-bar {
              background: #e5e5e5;
              padding: 15px 20px;
              font-size: 16px;
              text-align: center;
              border-bottom: 1px solid #ddd;
              user-select: none;
              display: flex;
              align-items: center;
              justify-content: space-between;
            }
            .return-button {
              background: none;
              border: none;
              font-size: 16px;
              cursor: pointer;
              color: #333;
            }
            .return-button:hover {
              text-decoration: underline;
            }
            .header-title {
              font-weight: bold;
              font-size: 18px;
            }
            .placeholder {
              width: 60px; /* to balance the back button width */
            }
          </style>
        </head>
        <body>
          <div class="modal-header-bar" id="headerBar">
            <button class="return-button" id="headerReturn-button-return">‚Üê Return</button>
            <span class="header-title" id="headerReturn-span-title"></span>
            <div class="placeholder"></div>
          </div>
          <script>
            if (!window.__modal_header_globals) {
              window.__modal_header_globals = true;

              const logger = window.createLogger('HeaderReturn');

              window.setHeaderTitle = function(title) {
                const titleElement = document.getElementById("headerReturn-span-title");
                if (titleElement) {
                  titleElement.textContent = title;
                } else {
                  logger.warn('#headerReturn-span-title element not found.');
                }
              };

              // This function will be called from Python to set the translated text
              window.setReturnButtonText = function(text) {
                const returnButton = document.getElementById("headerReturn-button-return");
                if(returnButton) {
                  returnButton.textContent = text;
                } else {
                  logger.warn('#headerReturn-button-return element not found.');
                }
              };

              window.attachReturnButtonListener = function() {
                const returnButton = document.getElementById("headerReturn-button-return");
                if(returnButton) {
                  const newButton = returnButton.cloneNode(true);
                  returnButton.parentNode.replaceChild(newButton, returnButton);
                  newButton.addEventListener('click', (event) => {
                    logger.log('Return button clicked, calling python `return_button_click`.');
                    anvil.call(event.target, 'return_button_click');
                  });
                  logger.log('Event listener attached to #headerReturn-button-return.');
                } else {
                  logger.warn('Could not attach listener to #headerReturn-button-return as it was not found.');
                }
              };
            }
          </script>
        </body>
      </html>
  type: HtmlTemplate
custom_component: true
is_package: true
properties:
- {default_binding_prop: true, default_value: '', important: true, name: return_form, type: string}
- {default_value: '', important: true, name: title, type: string}
