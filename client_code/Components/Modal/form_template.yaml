components: []
container:
  properties:
    html: |-
      <style>
        /* Single source of truth for all modal styling */
        .modal-overlay {
          display: none; position: fixed; top: 0; left: 0;
          width: 100%; height: 100%;
          background-color: rgba(0,0,0,0.5);
          z-index: 999;
          align-items: center; justify-content: center;
        }
        .modal-content {
          background-color: white; padding: 20px;
          border-radius: 8px; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
          position: relative;
        }
        .modal-header {
          display: flex; justify-content: space-between; align-items: center;
          margin-bottom: 15px; border-bottom: 1px solid #eee; padding-bottom: 10px;
        }
        .modal-title { font-size: 18px; font-weight: bold; }
        .modal-close-btn { background: none; border: none; font-size: 24px; cursor: pointer; color: #888; }
        .modal-body { /* styles for body */ }
        .modal-footer {
          display: flex; justify-content: flex-end;
          gap: 10px; margin-top: 20px;
        }
      </style>

      <div class="modal-overlay" id="modal-overlay">
        <div class="modal-content" id="modal-content-panel">
          <div class="modal-header">
            <h3 class="modal-title" id="modal-title-text"></h3>
            <button class="modal-close-btn" id="modal-close-button">Ã—</button>
          </div>
          <div class="modal-body" anvil-slot="default">
            <!-- Parent form's content goes here -->
          </div>
          <div class="modal-footer" anvil-slot="footer">
            <!-- Parent form's buttons go here -->
          </div>
        </div>
      </div>

      <script>
        // JS to control visibility and raise events
        window.showModalComponent = function(title, width, showCloseBtn) {
          document.getElementById('modal-title-text').textContent = title;
          document.getElementById('modal-content-panel').style.maxWidth = width;
          document.getElementById('modal-close-button').style.display = showCloseBtn ? 'block' : 'none';
          document.getElementById('modal-overlay').style.display = 'flex';
        };
        window.hideModalComponent = function() {
          document.getElementById('modal-overlay').style.display = 'none';
        };
      </script>
  type: HtmlTemplate
custom_component: true
events:
- {default_event: true, name: x_close}
is_package: true
properties:
- {default_binding_prop: true, default_value: Modal Title, important: true, name: title, type: string}
- {default_value: 500px, important: true, name: width, type: string}
- {default_value: true, important: true, name: show_close_button, type: boolean}
